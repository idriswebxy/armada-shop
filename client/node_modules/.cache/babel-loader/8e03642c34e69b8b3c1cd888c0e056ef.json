{"ast":null,"code":"var _jsxFileName = \"/Users/enoch/dev/movie-shop/client/src/components/Cart/Cart.js\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Img from \"react-image\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBNavLink, MDBTable, MDBTableHead, MDBTableBody } from \"mdbreact\";\nimport { deleteItem, loadCart, getPriceTotal } from \"../../actions/cart\";\nimport CartItem from \"./CartItem\";\nimport SpinnerPage from \"../Layout/SpinnerPage\";\nimport { Alert } from \"reactstrap\";\n\nconst Cart = ({\n  cart,\n  loadCart,\n  getPriceTotal,\n  total,\n  loading,\n  deleteItem,\n  price = 2.99,\n  userId\n}) => {\n  useEffect(() => {\n    loadCart(); // getPriceTotal(cart);\n\n    console.log(cart.cartItem);\n  }, [loading]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(SpinnerPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    });\n  }\n\n  let cartItems = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MDBTable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MDBTableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Movie\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Price\"))), /*#__PURE__*/React.createElement(MDBTableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, cart.map((movie, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Img, {\n    src: `https://image.tmdb.org/t/p/w92${cartItem.movie.image}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, movie.cartItem.name)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"$\", movie.cartItem.price)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    onClick: () => deleteItem(userId, cartItem.movie.id, price),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Remove\")))))));\n  let checkOut = /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: \"10px\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"Total: $\", total.toFixed(2)), /*#__PURE__*/React.createElement(MDBNavLink, {\n    to: \"/checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Check Out\")));\n  return /*#__PURE__*/React.createElement(MDBContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Cart: \", cart.length, \" item(s)\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, cartItems), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, checkOut)));\n};\n\nCart.propTypes = {\n  loadCart: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  cart: state.cart.cart,\n  total: state.cart.totalPrice,\n  loading: state.cart.loading,\n  userId: state.auth.userInfo._id\n});\n\nexport default connect(mapStateToProps, {\n  deleteItem,\n  loadCart,\n  getPriceTotal\n})(Cart);","map":{"version":3,"sources":["/Users/enoch/dev/movie-shop/client/src/components/Cart/Cart.js"],"names":["React","useEffect","connect","Img","Link","PropTypes","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBNavLink","MDBTable","MDBTableHead","MDBTableBody","deleteItem","loadCart","getPriceTotal","CartItem","SpinnerPage","Alert","Cart","cart","total","loading","price","userId","console","log","cartItem","cartItems","map","movie","key","image","name","id","checkOut","marginLeft","color","toFixed","marginTop","length","propTypes","func","isRequired","mapStateToProps","state","totalPrice","auth","userInfo","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACEC,YADF,EAEEC,MAFF,EAGEC,MAHF,EAIEC,MAJF,EAKEC,UALF,EAMEC,QANF,EAOEC,YAPF,EAQEC,YARF,QASO,UATP;AAUA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,aAA/B,QAAoD,oBAApD;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,SAASC,KAAT,QAAsB,YAAtB;;AAGA,MAAMC,IAAI,GAAG,CAAC;AACZC,EAAAA,IADY;AAEZN,EAAAA,QAFY;AAGZC,EAAAA,aAHY;AAIZM,EAAAA,KAJY;AAKZC,EAAAA,OALY;AAMZT,EAAAA,UANY;AAOZU,EAAAA,KAAK,GAAG,IAPI;AAQZC,EAAAA;AARY,CAAD,KASP;AACJxB,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,QAAQ,GADM,CAEd;;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACO,QAAjB;AACD,GAJQ,EAIN,CAACL,OAAD,CAJM,CAAT;;AAOA,MAAIA,OAAJ,EAAa;AACX,wBAAO,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAGD,MAAIM,SAAS,gBACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,CADF,CADF,eAOE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,IAAI,CAACS,GAAL,CAAS,CAACC,KAAD,EAAQC,GAAR,kBACR;AAAI,IAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,GAAG,EAAG,iCAAgCJ,QAAQ,CAACG,KAAT,CAAeE,KAAM,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,KAAK,CAACH,QAAN,CAAeM,IAApB,CAFF,CADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAOH,KAAK,CAACH,QAAN,CAAeJ,KAAtB,CADF,CALF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAMV,UAAU,CAACW,MAAD,EAASG,QAAQ,CAACG,KAAT,CAAeI,EAAxB,EAA4BX,KAA5B,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CARF,CADD,CADH,CAPF,CADF,CADF;AA+BA,MAAIY,QAAQ,gBACV;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,KAAK,EAAE;AAA7B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAahB,KAAK,CAACiB,OAAN,CAAc,CAAd,CAAb,CADF,eAEE,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAFF,CADF;AASA,sBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAWnB,IAAI,CAACoB,MAAhB,aADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMZ,SAAN,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMO,QAAN,CAHF,CADF,CADF;AASD,CAvED;;AAyEAhB,IAAI,CAACsB,SAAL,GAAiB;AACf3B,EAAAA,QAAQ,EAAEV,SAAS,CAACsC,IAAV,CAAeC;AADV,CAAjB;;AAIA,MAAMC,eAAe,GAAIC,KAAD,KAAY;AAClCzB,EAAAA,IAAI,EAAEyB,KAAK,CAACzB,IAAN,CAAWA,IADiB;AAElCC,EAAAA,KAAK,EAAEwB,KAAK,CAACzB,IAAN,CAAW0B,UAFgB;AAGlCxB,EAAAA,OAAO,EAAEuB,KAAK,CAACzB,IAAN,CAAWE,OAHc;AAIlCE,EAAAA,MAAM,EAAEqB,KAAK,CAACE,IAAN,CAAWC,QAAX,CAAoBC;AAJM,CAAZ,CAAxB;;AAOA,eAAehD,OAAO,CAAC2C,eAAD,EAAkB;AACtC/B,EAAAA,UADsC;AAEtCC,EAAAA,QAFsC;AAGtCC,EAAAA;AAHsC,CAAlB,CAAP,CAIZI,IAJY,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Img from \"react-image\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBBtn,\n  MDBNavLink,\n  MDBTable,\n  MDBTableHead,\n  MDBTableBody,\n} from \"mdbreact\";\nimport { deleteItem, loadCart, getPriceTotal } from \"../../actions/cart\";\nimport CartItem from \"./CartItem\";\nimport SpinnerPage from \"../Layout/SpinnerPage\";\nimport { Alert } from \"reactstrap\";\n\n\nconst Cart = ({\n  cart,\n  loadCart,\n  getPriceTotal,\n  total,\n  loading,\n  deleteItem,\n  price = 2.99,\n  userId\n}) => {\n  useEffect(() => {\n    loadCart();\n    // getPriceTotal(cart);\n    console.log(cart.cartItem)\n  }, [loading]);\n\n\n  if (loading) {\n    return <SpinnerPage />;\n  }\n\n\n  let cartItems = (\n    <div>\n      <MDBTable>\n        <MDBTableHead>\n          <tr>\n            <th>Movie</th>\n            <th>Price</th>\n          </tr>\n        </MDBTableHead>\n        <MDBTableBody>\n          {cart.map((movie, key) => (\n            <tr key={key}>\n              <td>\n                <Img src={`https://image.tmdb.org/t/p/w92${cartItem.movie.image}`} />\n                <h5>{movie.cartItem.name}</h5>\n              </td>\n              <td>\n                <div>${movie.cartItem.price}</div>\n              </td>\n              <td>\n                <MDBBtn onClick={() => deleteItem(userId, cartItem.movie.id, price)}>\n                  Remove\n                </MDBBtn>\n              </td>\n            </tr>\n          ))}\n        </MDBTableBody>\n      </MDBTable>\n    </div>\n  );\n\n  let checkOut = (\n    <div style={{ marginLeft: \"10px\", color: \"white\" }}>\n      <h2>Total: ${total.toFixed(2)}</h2>\n      <MDBNavLink to=\"/checkout\">\n        <MDBBtn>Check Out</MDBBtn>\n      </MDBNavLink>\n    </div>\n  );\n\n  return (\n    <MDBContainer>\n      <div style={{ marginTop: \"100px\" }}>\n        <h3>Cart: {cart.length} item(s)</h3>\n        <div>{cartItems}</div>\n        <div>{checkOut}</div>\n      </div>\n    </MDBContainer>\n  );\n};\n\nCart.propTypes = {\n  loadCart: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  cart: state.cart.cart,\n  total: state.cart.totalPrice,\n  loading: state.cart.loading,\n  userId: state.auth.userInfo._id\n});\n\nexport default connect(mapStateToProps, {\n  deleteItem,\n  loadCart,\n  getPriceTotal,\n})(Cart);\n"]},"metadata":{},"sourceType":"module"}