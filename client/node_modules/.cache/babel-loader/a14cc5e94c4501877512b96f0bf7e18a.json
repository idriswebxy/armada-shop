{"ast":null,"code":"import { ADD_TO_CART, CART_ERROR, LOAD_CART, DELETE_ITEM, PRICE_TOTAL, CHANGE_LOAD } from \"./types\";\nimport axios from \"axios\";\nimport { setAlert } from \"./alert\";\nexport const addToCart = (movie, userId) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(movie);\n\n  try {\n    const res = await axios.post(`/api/cart/${userId}`, body, config);\n    console.log(res);\n    dispatch({\n      type: ADD_TO_CART,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR\n    });\n  }\n};\nexport const addToCartTvShow = item => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(item);\n\n  try {\n    const res = await axios.post(\"/api/cart/tv_show\", body, config);\n    dispatch({\n      type: ADD_TO_CART,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR\n    });\n  }\n};\nexport const loadCart = userId => async dispatch => {\n  try {\n    const res = await axios.get(`/api/cart/${userId}`);\n    dispatch({\n      type: LOAD_CART,\n      payload: res.data\n    });\n  } catch (error) {\n    dispatch({\n      type: CART_ERROR\n    });\n  }\n};\nexport const getCart = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/cart/${id}`);\n    dispatch({\n      type: LOAD_CART,\n      payload: res.data\n    }); // dispatch({\n    //   type:CHANGE_LOAD,\n    //   payload:\n    // })\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR // payload: { msg: err.response.statusText, status: err.response.status }\n\n    });\n  }\n};\nexport const deleteItem = (userId, price) => async dispatch => {\n  console.log(userId);\n\n  try {\n    await axios.delete(`api/cart/${userId}`);\n    dispatch({\n      type: DELETE_ITEM,\n      payload: {\n        userId,\n        price\n      }\n    });\n    dispatch(setAlert(\"Item Removed\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const getPriceTotal = array => async dispatch => {\n  try {\n    const res = await axios.post(\"/api/cart/total\", array);\n    dispatch({\n      type: PRICE_TOTAL,\n      payload: res.data\n    });\n  } catch (error) {}\n};","map":{"version":3,"sources":["/Users/enoch/dev/movie-shop/client/src/actions/cart.js"],"names":["ADD_TO_CART","CART_ERROR","LOAD_CART","DELETE_ITEM","PRICE_TOTAL","CHANGE_LOAD","axios","setAlert","addToCart","movie","userId","dispatch","config","headers","body","JSON","stringify","res","post","console","log","type","payload","data","err","addToCartTvShow","item","loadCart","get","error","getCart","id","deleteItem","price","delete","msg","response","statusText","status","getPriceTotal","array"],"mappings":"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","sourcesContent":["import {\n  ADD_TO_CART,\n  CART_ERROR,\n  LOAD_CART,\n  DELETE_ITEM,\n  PRICE_TOTAL,\n  CHANGE_LOAD,\n} from \"./types\";\nimport axios from \"axios\";\nimport { setAlert } from \"./alert\";\n\n\n\n\nexport const addToCart = (movie, userId) => async (dispatch) => {\n\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  const body = JSON.stringify(movie);\n\n  try {\n    const res = await axios.post(`/api/cart/${userId}`, body, config);\n\n    console.log(res)\n\n    dispatch({\n      type: ADD_TO_CART,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR,\n    });\n  }\n};\n\n\n\nexport const addToCartTvShow = (item) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  const body = JSON.stringify(item);\n\n  try {\n    const res = await axios.post(\"/api/cart/tv_show\", body, config);\n\n    dispatch({\n      type: ADD_TO_CART,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR,\n    });\n  }\n};\n\n\n\nexport const loadCart = (userId) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/cart/${userId}`);\n\n    dispatch({\n      type: LOAD_CART,\n      payload: res.data,\n    });\n  } catch (error) {\n    dispatch({\n      type: CART_ERROR,\n    });\n  }\n};\n\n\n\nexport const getCart = (id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/cart/${id}`);\n\n    dispatch({\n      type: LOAD_CART,\n      payload: res.data,\n    });\n    // dispatch({\n    //   type:CHANGE_LOAD,\n    //   payload:\n    // })\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR,\n      // payload: { msg: err.response.statusText, status: err.response.status }\n    });\n  }\n};\n\n\n\nexport const deleteItem = (userId, price) => async (dispatch) => {\n\n  console.log(userId)\n  try {\n\n    await axios.delete(`api/cart/${userId}`);\n\n    dispatch({\n      type: DELETE_ITEM,\n      payload: { userId, price }\n    });\n\n    dispatch(setAlert(\"Item Removed\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: CART_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\nexport const getPriceTotal = (array) => async (dispatch) => {\n  try {\n    const res = await axios.post(\"/api/cart/total\", array);\n\n    dispatch({\n      type: PRICE_TOTAL,\n      payload: res.data,\n    });\n  } catch (error) { }\n};\n"]},"metadata":{},"sourceType":"module"}